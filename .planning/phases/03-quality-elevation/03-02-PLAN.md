---
phase: 03-quality-elevation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/data/bmsKapitel/biologie/kap1-die-zelle-test.ts
  - src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts
  - src/data/bmsKapitel/biologie/kap8-humangenetik.ts
autonomous: true
requirements: [QUAL-02, QUAL-03, QUAL-05, QUAL-06]

must_haves:
  truths:
    - "All BMS questions have exactly 5 options (A-E) per MedAT format"
    - "Exam questions marked with altfragen MerksatzBox indicators"
    - "Explanations are textbook-level (not just correct/incorrect)"
    - "Difficulty ratings (1/2/3) correctly assigned and meaningful"
  artifacts:
    - path: "src/data/bmsKapitel/biologie/kap1-die-zelle-test.ts"
      provides: "Premium-quality Kapitel 1 with MerksatzBox integration"
      contains: "type.*altfragen|type.*klinisch"
      min_lines: 150
    - path: "src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts"
      provides: "Validated Kapitel 7 with altfragen markers"
      contains: "altfragen"
      min_lines: 500
    - path: "src/data/bmsKapitel/biologie/kap8-humangenetik.ts"
      provides: "Validated Kapitel 8 with klinisch highlights"
      contains: "klinisch"
      min_lines: 300
  key_links:
    - from: "kap1/kap7/kap8 content"
      to: "MerksatzBox component"
      via: "type='altfragen' and type='klinisch' usage in markdown"
      pattern: "type=['\"]altfragen['\"]|type=['\"]klinisch['\"]"
---

<objective>
Audit and upgrade all existing Biologie chapters (kap1, kap7, kap8) to meet textbook-level quality standards with proper exam markings (altfragen), clinical highlights (klinisch), verified 5-option format, and meaningful difficulty ratings.

Purpose: Establish quality baseline for Phase 4 content expansion. All BMS content must meet premium standards before reorganizing structure or adding more chapters.

Output: 3 Biologie chapters meeting QUAL-02, QUAL-03, QUAL-05, QUAL-06 requirements, serving as templates for Chemie/Physik/Mathematik content creation.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03-quality-elevation/03-CONTEXT.md
@.planning/phases/03-quality-elevation/03-RESEARCH.md
@.planning/phases/02-gap-filling/02-01-SUMMARY.md
@.planning/phases/02-gap-filling/02-02-SUMMARY.md
@src/data/bmsKapitel/biologie/kap1-die-zelle-test.ts
@src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts
@src/data/bmsKapitel/biologie/kap8-humangenetik.ts
@src/components/chapter/MerksatzBox.tsx
</context>

<tasks>

<task type="auto">
  <name>Audit and validate 5-option format across all Biologie questions</name>
  <files>
src/data/bmsKapitel/biologie/kap1-die-zelle-test.ts
src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts
src/data/bmsKapitel/biologie/kap8-humangenetik.ts
  </files>
  <action>
Verify all BMS questions have exactly 5 options (A-E) per MedAT format. Fix any deviations.

**Audit steps:**
1. For each chapter file, extract all selfTest arrays
2. For each question in selfTest, verify `options.length === 5`
3. For any question with ‚â†5 options, add or remove options to reach 5
4. Ensure `correctIndex` is within 0-4 range

**MedAT format (from PROJECT.md constraints):**
- Exactly 5 options per question
- Labels: A) B) C) D) E)
- correctIndex: 0-4 (0=A, 1=B, 2=C, 3=D, 4=E)

**Phase 2 verification (02-VERIFICATION.md lines 36-37):**
- kap7: 36 questions (verified 5 options each)
- kap8: 12 questions (verified 5 options each)
- kap1: Status unknown - AUDIT REQUIRED

**For kap1-die-zelle-test.ts:**
- Current state: Minimal stub (line 13-27 in earlier read)
- Likely needs complete content upgrade (separate task handles this)
- If kap1 has questions, verify 5-option format

**Fix example if needed:**
```typescript
// Before (4 options - INVALID)
options: ["Option A", "Option B", "Option C", "Option D"],
correctIndex: 2

// After (5 options - VALID)
options: ["Option A", "Option B", "Option C", "Option D", "Option E (nicht zutreffend)"],
correctIndex: 2
```

**DO NOT change question content** unless fixing obvious format violations. Content quality is separate task.

**Verification command:**
```bash
# Count questions and options per file
for f in src/data/bmsKapitel/biologie/kap*.ts; do
  echo "=== $f ==="
  grep -o "options: \[" "$f" | wc -l  # Question count
  # Manual check: each options array should have 5 elements
done
```
  </action>
  <verify>
# Verify all questions have 5 options
grep -A10 "options: \[" src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts | grep -c '^\s*"[^"]*",$' | awk '{print $1 % 5}'  # Should be 0 (divisible by 5)
grep -A10 "options: \[" src/data/bmsKapitel/biologie/kap8-humangenetik.ts | grep -c '^\s*"[^"]*",$' | awk '{print $1 % 5}'  # Should be 0
npm run build  # Must complete without errors
  </verify>
  <done>All questions in kap1, kap7, kap8 have exactly 5 options, correctIndex within 0-4 range, build passes</done>
</task>

<task type="auto">
  <name>Mark exam questions with altfragen MerksatzBox</name>
  <files>
src/data/bmsKapitel/biologie/kap1-die-zelle-test.ts
src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts
src/data/bmsKapitel/biologie/kap8-humangenetik.ts
  </files>
  <action>
Add altfragen MerksatzBox callouts to mark questions that have appeared in past MedAT exams or are exam-style classics.

**Guidance from CONTEXT.md Decision 1:**
- Use MerksatzBox type="altfragen" for exam past questions
- Research suggests marking 20-30% of questions as altfragen (high-value)

**Identification heuristic (since we don't have actual past exam data):**
- Questions with tags matching Stichwortliste `priorit√§t: "hoch"` entries
- Questions with difficulty: 2 or 3 (mittel/schwer = exam-representative)
- Questions testing core concepts (first question in each Unterkapitel)

**Add altfragen MerksatzBox in content field, NOT in selfTest array:**
```typescript
unterkapitel: [
  {
    id: 'bio-7-01',
    title: 'PCR (Polymerase-Kettenreaktion)',
    content: `# PCR (Polymerase-Kettenreaktion)

## Prinzip
Die PCR vervielf√§ltigt spezifische DNA-Sequenzen exponentiell.

> **MerksatzBox type="altfragen":** PCR-Grundlagen (3 Schritte: Denaturierung, Annealing, Elongation) kommen in fast jeder MedAT-Ausgabe vor.

[Rest of content...]`,
    selfTest: [ /* questions */ ]
  }
]
```

**Target distribution:**
- kap1: Add 1-2 altfragen markers (if content exists)
- kap7: Add 2-3 altfragen markers (6 Unterkapitel ‚Üí ~30% coverage)
- kap8: Add 1-2 altfragen markers (2 Unterkapitel ‚Üí ~50% coverage)

**DO NOT invent exam history** - use generic phrasing like "Klassisches Pr√ºfungsthema" or "H√§ufig im MedAT" rather than specific years.

**MerksatzBox syntax (from MerksatzBox.tsx lines 15-21):**
```
> **MerksatzBox type="altfragen":** [Text]
```
Icon: üéØ, Label: "Altfragen-Klassiker", Colors: red theme
  </action>
  <verify>
grep -c 'type="altfragen"' src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts  # Should be 2-3
grep -c 'type="altfragen"' src/data/bmsKapitel/biologie/kap8-humangenetik.ts  # Should be 1-2
npm run build && npm run dev  # Build passes, MerksatzBox renders correctly
  </verify>
  <done>Altfragen MerksatzBox callouts added to mark exam-style questions in kap7 (2-3) and kap8 (1-2), syntax correct, build passes</done>
</task>

<task type="auto">
  <name>Add klinisch highlights with "By doctors for doctors" framing</name>
  <files>
src/data/bmsKapitel/biologie/kap1-die-zelle-test.ts
src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts
src/data/bmsKapitel/biologie/kap8-humangenetik.ts
  </files>
  <action>
Add clinical relevance highlights using MerksatzBox type="klinisch" to connect basic science to medical practice.

**Guidance from CONTEXT.md Decision 1 and ROADMAP QUAL-04:**
- Use MerksatzBox type="klinisch" for clinical highlights
- Frame with "By doctors for future doctors" philosophy
- Focus on practical clinical relevance, not just trivia

**Target topics for klinisch highlights:**
- **kap1 (Zelle):** Cell biology ‚Üí disease mechanisms (e.g., lysosomal storage diseases, mitochondrial disorders)
- **kap7 (Genetik-Methoden):** PCR ‚Üí diagnostics (COVID tests), genetic fingerprinting ‚Üí paternity/forensics, CRISPR ‚Üí gene therapy
- **kap8 (Humangenetik):** Inheritance patterns ‚Üí genetic counseling, chromosomal abnormalities ‚Üí prenatal screening

**Example klinisch MerksatzBox:**
```typescript
content: `# DNA-Sequenzierung

## Sanger-Methode
Kettenabbruch-Methode mit ddNTPs.

> **MerksatzBox type="klinisch":** DNA-Sequenzierung ist Basis der personalisierten Medizin. Im Klinik-Alltag: Tumor-Mutationsanalyse zur Therapiewahl (z.B. EGFR-Mutation ‚Üí Tyrosinkinase-Inhibitor bei Lungenkrebs).

[Rest of content...]`
```

**Target distribution:**
- kap1: Add 1-2 klinisch markers (if content exists)
- kap7: Add 3-4 klinisch markers (6 Unterkapitel ‚Üí ~50-60% coverage)
- kap8: Add 2-3 klinisch markers (2 Unterkapitel ‚Üí 100% coverage, since Humangenetik is inherently clinical)

**Tone guidelines (from RESEARCH.md Pattern 4):**
- Professional medical tone (Amboss clarity standard)
- Specific examples (drug names, disease names, clinical scenarios)
- Avoid vague phrases like "clinically relevant" - be concrete

**MerksatzBox syntax (from MerksatzBox.tsx lines 23-29):**
```
> **MerksatzBox type="klinisch":** [Text]
```
Icon: üè•, Label: "Klinischer Bezug", Colors: blue theme
  </action>
  <verify>
grep -c 'type="klinisch"' src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts  # Should be 3-4
grep -c 'type="klinisch"' src/data/bmsKapitel/biologie/kap8-humangenetik.ts  # Should be 2-3
npm run build && npm run dev  # Build passes, MerksatzBox renders correctly
  </verify>
  <done>Klinisch MerksatzBox highlights added with specific clinical examples in kap7 (3-4) and kap8 (2-3), professional medical tone, build passes</done>
</task>

<task type="auto">
  <name>Verify difficulty ratings are meaningful and evidence-based</name>
  <files>
src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts
src/data/bmsKapitel/biologie/kap8-humangenetik.ts
  </files>
  <action>
Audit difficulty ratings (1=leicht, 2=mittel, 3=schwer) for all questions in kap7 and kap8 to ensure they reflect actual cognitive load and exam representativeness.

**Current status (from 02-01-SUMMARY.md and 02-02-SUMMARY.md):**
- kap7: 36 questions with difficulty field (Phase 2 added)
- kap8: 12 questions with difficulty field (Phase 2 added)
- kap1: Status unknown - likely missing difficulty ratings

**Difficulty calibration criteria:**

**difficulty: 1 (leicht)** - Basic recall, terminology
- Example: "Was bedeutet PCR?" ‚Üí "Polymerase-Kettenreaktion"
- Cognitive load: Remember
- ~30% of questions

**difficulty: 2 (mittel)** - Application, understanding
- Example: "Welche Temperatur wird f√ºr DNA-Denaturierung in PCR verwendet?"
- Cognitive load: Understand, Apply
- ~50% of questions (MedAT sweet spot)

**difficulty: 3 (schwer)** - Analysis, synthesis, clinical integration
- Example: "Ein Patient hat Mutation in BRCA1. Erkl√§re Vererbungsmuster und Krebsrisiko."
- Cognitive load: Analyze, Evaluate
- ~20% of questions (exam differentiation)

**Audit process:**
1. Read each question's text, options, and explanation
2. Classify cognitive demand using Bloom's taxonomy
3. Verify difficulty rating matches classification
4. Adjust if mismatched (e.g., simple recall marked as difficulty: 3)

**Adjustment example:**
```typescript
// Before
{
  question: "Was steht PCR f√ºr?",
  difficulty: 3,  // WRONG - this is pure recall
  // ...
}

// After
{
  question: "Was steht PCR f√ºr?",
  difficulty: 1,  // CORRECT - basic terminology
  // ...
}
```

**DO NOT change question content** - only adjust difficulty ratings.

**Target distribution per chapter:**
- ~30% difficulty: 1
- ~50% difficulty: 2
- ~20% difficulty: 3

**For kap1:** If questions exist, add difficulty field using same calibration.
  </action>
  <verify>
# Count difficulty distribution in kap7
grep "difficulty:" src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts | sort | uniq -c
# Should show ~30% level 1, ~50% level 2, ~20% level 3
npm run build  # Must complete without errors
  </verify>
  <done>Difficulty ratings audited and adjusted in kap7 and kap8, distribution matches ~30/50/20 target, ratings reflect actual cognitive load, build passes</done>
</task>

</tasks>

<verification>
1. Run `npm run build` - must complete without TypeScript errors
2. Check all Biologie questions have exactly 5 options: `grep -A10 "options:" src/data/bmsKapitel/biologie/kap*.ts`
3. Verify altfragen markers present: `grep -c 'type="altfragen"' src/data/bmsKapitel/biologie/kap*.ts`
4. Verify klinisch markers present: `grep -c 'type="klinisch"' src/data/bmsKapitel/biologie/kap*.ts`
5. Check difficulty distribution: `grep "difficulty:" src/data/bmsKapitel/biologie/kap*.ts | sort | uniq -c`
6. Manual spot-check: Read 3-5 questions to verify explanation quality (textbook-level, not just "correct/incorrect")
</verification>

<success_criteria>
- All Biologie questions have exactly 5 options (A-E)
- 5+ altfragen MerksatzBox callouts across kap7 and kap8
- 5+ klinisch MerksatzBox highlights with specific clinical examples
- Difficulty ratings follow ~30/50/20 distribution (leicht/mittel/schwer)
- Explanations are substantive (‚â•2 sentences, explain why correct AND why others wrong)
- Build passes without errors
- All QUAL-02, QUAL-03, QUAL-05, QUAL-06 requirements satisfied for Biologie
</success_criteria>

<output>
After completion, create `.planning/phases/03-quality-elevation/03-02-SUMMARY.md`
</output>
