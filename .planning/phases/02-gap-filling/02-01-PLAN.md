---
phase: 02-gap-filling
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/data/bmsKapitel/types.ts
  - src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts
  - src/data/bmsKapitel/biologie/index.ts
autonomous: true
requirements: [SYNC-02]

must_haves:
  truths:
    - SelfTestQuestion interface includes tags and difficulty fields for question tracking
    - Kapitel 7 (Methoden der Genetik) exists with 6 Unterkapitel matching Stichwortliste IDs
    - Each Unterkapitel has minimum 5 questions with 5 options (A-E)
    - All questions include tags from Stichwortliste linkedQuestionTags and difficulty ratings (1-3)
    - Each Unterkapitel has 3-5 merks√§tze highlighting key concepts
  artifacts:
    - path: "src/data/bmsKapitel/types.ts"
      provides: "SelfTestQuestion interface with tags and difficulty fields"
      contains: "tags?: string[]"
    - path: "src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts"
      provides: "Complete Kapitel 7 with 6 Unterkapitel"
      min_lines: 500
      exports: ["bioKap7"]
    - path: "src/data/bmsKapitel/biologie/index.ts"
      provides: "Barrel export including bioKap7"
      contains: "bioKap7"
  key_links:
    - from: "kap7-methoden-der-genetik.ts"
      to: "types.ts"
      via: "import type { Kapitel }"
      pattern: "import.*Kapitel.*types"
    - from: "biologie/index.ts"
      to: "kap7-methoden-der-genetik.ts"
      via: "import and export bioKap7"
      pattern: "import.*bioKap7.*kap7"
---

<objective>
Create Kapitel 7 (Methoden der Genetik) with 6 Unterkapitel covering high-priority neu2026 topics, add tags and difficulty fields to SelfTestQuestion interface for question tracking.

Purpose: Close 6 of 8 content gaps from Phase 1 audit (bio-7-01 through bio-7-06) with premium-quality content matching MedAT exam format and Amboss-standard presentation.

Output: Complete chapter file with 30+ questions, 18-30 merks√§tze, tags and difficulty field support
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-gap-filling/02-RESEARCH.md
@src/data/stichworteData.ts
@src/data/bmsKapitel/types.ts
@src/data/bmsKapitel/biologie/index.ts
@src/components/chapter/MerksatzBox.tsx
@src/components/chapter/QuizQuestion.tsx
</context>

<tasks>

<task type="auto">
  <name>Add tags and difficulty fields to SelfTestQuestion and QuizItem interfaces</name>
  <files>src/data/bmsKapitel/types.ts</files>
  <action>
Update SelfTestQuestion and QuizItem interfaces to include optional tags and difficulty fields per global context requirement:

```typescript
export interface SelfTestQuestion {
  question: string;
  options: string[];
  correctIndex: number;
  explanation: string;
  hints?: string[];
  /**
   * Tags from linkedQuestionTags in Stichwortliste entry.
   * Example: bio-7-01 has linkedQuestionTags: ["pcr", "polymerase-kettenreaktion"]
   * Enables: getQuestionsByTags(["pcr"]) ‚Üí all PCR-related questions
   */
  tags?: string[];
  /**
   * Question difficulty level (1 = easy, 2 = medium, 3 = hard)
   * Used for adaptive learning and progress tracking
   */
  difficulty?: 1 | 2 | 3;
}

export interface QuizItem {
  question: string;
  options: string[];
  correctIndex: number;
  explanation: string;
  hints?: string[];
  /**
   * Tags from linkedQuestionTags in Stichwortliste entry.
   */
  tags?: string[];
  /**
   * Question difficulty level (1 = easy, 2 = medium, 3 = hard)
   */
  difficulty?: 1 | 2 | 3;
}
```

Add JSDoc comments explaining both tags and difficulty fields. Difficulty field is required by global context: "Jedes Quiz-Item braucht das 'tags' Feld und 'difficulty' (1-3)".
  </action>
  <verify>Grep for "tags?: string\[\]" and "difficulty?: 1 \| 2 \| 3" in types.ts confirms both interfaces updated with both fields</verify>
  <done>SelfTestQuestion and QuizItem interfaces include tags and difficulty fields with JSDoc documentation</done>
</task>

<task type="auto">
  <name>Create kap7-methoden-der-genetik.ts with 6 Unterkapitel</name>
  <files>src/data/bmsKapitel/biologie/kap7-methoden-der-genetik.ts</files>
  <action>
Create complete Kapitel 7 file with 6 Unterkapitel matching Stichwortliste entries bio-7-01 through bio-7-06:

**Structure requirements:**
- Kapitel id: "bio-kap7"
- Title: "Methoden der Genetik"
- Subject: "biologie"
- Icon: "üß¨"
- estimatedTime: "120 min"

**6 Unterkapitel (each must have):**

1. **bio-7-01: PCR** (linkedQuestionTags: ["pcr", "polymerase-kettenreaktion"])
   - Content: PCR principles, 3 steps (Denaturierung 94¬∞C, Annealing 50-65¬∞C, Elongation 72¬∞C), exponential amplification, Taq-Polymerase
   - Merks√§tze: 3-5 highlighting cycle steps, exponential growth, applications
   - SelfTest: 5+ questions with 5 options each, all tagged ["pcr", "polymerase-kettenreaktion"]

2. **bio-7-02: DNA-Sequenzierung** (linkedQuestionTags: ["sequenzierung", "sanger"])
   - Content: Sanger method (chain termination), ddNTPs, Next-Generation Sequencing overview
   - Merks√§tze: 3-5 on Sanger principle, applications
   - SelfTest: 5+ questions tagged ["sequenzierung", "sanger"]

3. **bio-7-03: Genomanalyse** (linkedQuestionTags: ["genomanalyse"])
   - Content: Whole genome analysis, gene expression analysis, microarrays, bioinformatics basics
   - Merks√§tze: 3-5 on analysis methods, applications
   - SelfTest: 5+ questions tagged ["genomanalyse"]

4. **bio-7-04: Genetischer Fingerabdruck** (linkedQuestionTags: ["genetischer-fingerabdruck", "str"])
   - Content: STR analysis, RFLP, forensic applications, paternity testing
   - Merks√§tze: 3-5 on STR principle, forensic use
   - SelfTest: 5+ questions tagged ["genetischer-fingerabdruck", "str"]

5. **bio-7-05: Gentechnisch ver√§nderte Organismen** (linkedQuestionTags: ["gvo", "gentechnik"])
   - Content: GMO creation, restriction enzymes, vectors, plasmids, transformation
   - Merks√§tze: 3-5 on GMO creation steps, applications
   - SelfTest: 5+ questions tagged ["gvo", "gentechnik"]

6. **bio-7-06: Klonierung** (linkedQuestionTags: ["klonierung"])
   - Content: Reproductive vs therapeutic cloning, Dolly the sheep, SCNT, ethical aspects
   - Merks√§tze: 3-5 on cloning methods, ethical considerations
   - SelfTest: 5+ questions tagged ["klonierung"]

**Content quality standards:**
- Medical precision at MedAT exam level (Lehrbuch-thorough but exam-focused)
- Every question has exactly 5 options (A-E format)
- Explanations are textbook-level (not just correct/incorrect)
- Hints use Socratic method (guide to insight, not direct answers)
- Professional medical tone (Amboss clarity standard)

**Example question template:**
```typescript
{
  question: "Welche Temperatur wird f√ºr die Denaturierung der DNA in der PCR verwendet?",
  options: [
    "50-65¬∞C (Annealing)",
    "30-40¬∞C (Niedrige Temperatur)",
    "94-95¬∞C (Denaturierung)",  // CORRECT
    "37¬∞C (K√∂rpertemperatur)",
    "4¬∞C (K√ºhlung)"
  ],
  correctIndex: 2,
  explanation: "Bei etwa 94-95¬∞C denaturiert die doppelstr√§ngige DNA durch Aufbrechen der Wasserstoffbr√ºckenbindungen zwischen den komplement√§ren Basen. Diese hohe Temperatur ist notwendig, um die DNA-Str√§nge vollst√§ndig zu trennen und f√ºr die Primer-Bindung im n√§chsten Schritt zug√§nglich zu machen.",
  hints: [
    "Die h√∂chste Temperatur im PCR-Zyklus trennt die Doppelstr√§nge.",
    "√úberlege: Bei welcher Temperatur werden Wasserstoffbr√ºcken aufgebrochen?"
  ],
  tags: ["pcr", "polymerase-kettenreaktion", "denaturierung"],
  difficulty: 2  // 1 = easy, 2 = medium, 3 = hard
}
```

Use pattern from existing kap2-zellkern-und-ribosomen.ts for structure. Export bioKap7 constant.
  </action>
  <verify>
1. File exists with import type { Kapitel } from '../types'
2. Grep confirms 6 Unterkapitel with IDs bio-7-01 through bio-7-06
3. Count questions: minimum 30 total (5+ per Unterkapitel √ó 6)
4. Grep for tags field in all questions confirms tagging compliance
5. Each question has exactly 5 options (options.length === 5)
  </verify>
  <done>kap7-methoden-der-genetik.ts exists with bioKap7 export containing 6 complete Unterkapitel, 30+ questions, all properly tagged and formatted</done>
</task>

<task type="auto">
  <name>Update biologie barrel to export bioKap7</name>
  <files>src/data/bmsKapitel/biologie/index.ts</files>
  <action>
Update barrel file to import and export bioKap7:

```typescript
import type { Kapitel } from '../types';

import { bioKap1 } from './kap1-die-zelle-test';
import { bioKap7 } from './kap7-methoden-der-genetik';

export const biologieKapitel: Kapitel[] = [
  bioKap1,
  bioKap7,
];
```

Add bioKap7 to biologieKapitel array. Maintain existing bioKap1 export.
  </action>
  <verify>Grep for "bioKap7" in index.ts confirms import and array inclusion</verify>
  <done>biologie/index.ts exports bioKap7 in biologieKapitel array</done>
</task>

</tasks>

<verification>
1. TypeScript compilation succeeds (npm run build completes without errors)
2. All 6 Unterkapitel IDs match Stichwortliste linkedChapterId values (bio-7-01 through bio-7-06)
3. Every question has tags field populated with linkedQuestionTags from Stichwortliste
4. All questions have exactly 5 options (A-E format per MedAT requirement)
5. Minimum 30 questions created across 6 Unterkapitel
6. bioKap7 accessible via biologieKapitel array
</verification>

<success_criteria>
- SelfTestQuestion and QuizItem interfaces include tags?: string[] and difficulty?: 1 | 2 | 3 fields
- kap7-methoden-der-genetik.ts file exists with bioKap7 export
- 6 Unterkapitel with IDs bio-7-01, bio-7-02, bio-7-03, bio-7-04, bio-7-05, bio-7-06
- Each Unterkapitel has 5+ questions with 5 options, proper tags, difficulty ratings, and 3-5 merks√§tze
- biologie/index.ts exports bioKap7 in biologieKapitel array
- TypeScript builds without errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-gap-filling/02-01-SUMMARY.md`
</output>
