/**
 * Mathematik Typ K — zusätzliche Kombinationsaufgaben (009–040) für min. 40 pro Fach.
 */
import type { BMSFrage } from "@/lib/supabaseBMSFragen";

const K = (n: number, o: "A" | "B" | "C" | "D" | "E", nums: number[]) => ({
  key: o,
  nummern: nums,
});
const A = (nr: number, text: string, korrekt: boolean) => ({ nr, text, korrekt });

export const mathematikPoolTypKExtra: BMSFrage[] = [
  {
    id: "ma-pool-typk-009",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-1-01",
    stamm: "Welche Aussagen zu Zehnerpotenzen und Präfixen sind richtig?",
    aussagen: [
      A(1, "10⁶ = 1 000 000.", true),
      A(2, "Nano (n) = 10⁻⁹.", true),
      A(3, "Mikro (μ) = 10⁻⁶.", true),
      A(4, "Kilo (k) = 10².", false),
      A(5, "10⁻² = 0,01.", true),
    ],
    kombinationen: [
      K(9, "A", [1, 2, 3, 5]),
      K(9, "B", [1, 2, 4]),
      K(9, "C", [2, 3, 4]),
      K(9, "D", [1, 3, 4, 5]),
      K(9, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "A",
    erklaerung: "Kilo = 10³, nicht 10² (4 falsch).",
    schwierigkeit: 1,
    fsrs: null,
  },
  {
    id: "ma-pool-typk-010",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-2-01",
    stamm: "Welche Aussagen zu Flächen und Volumina sind richtig?",
    aussagen: [
      A(1, "Quader: V = a·b·c.", true),
      A(2, "Zylinder: V = πr²h.", true),
      A(3, "Kreisumfang U = 2πr.", true),
      A(4, "Kugelvolumen V = 4πr².", false),
      A(5, "Dreiecksfläche A = (1/2)·g·h.", true),
    ],
    kombinationen: [
      K(10, "A", [1, 2, 3, 5]),
      K(10, "B", [1, 2, 4]),
      K(10, "C", [2, 3, 4]),
      K(10, "D", [1, 3, 4, 5]),
      K(10, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "A",
    erklaerung: "Kugelvolumen ist (4/3)πr³ (4 falsch).",
    schwierigkeit: 1,
    fsrs: null,
  },
  {
    id: "ma-pool-typk-011",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-5-01",
    stamm: "Welche Aussagen zu linearen Funktionen sind richtig?",
    aussagen: [
      A(1, "y = mx + b: m = Steigung, b = y-Achsenabschnitt.", true),
      A(2, "Parallele Geraden haben gleiche Steigung.", true),
      A(3, "Senkrecht: m₁·m₂ = −1.", true),
      A(4, "Die Steigung ist m = Δx/Δy.", false),
      A(5, "Nullstelle von y = mx + b (m≠0): x = −b/m.", true),
    ],
    kombinationen: [
      K(11, "A", [1, 2, 3, 5]),
      K(11, "B", [1, 2, 4]),
      K(11, "C", [2, 3, 4]),
      K(11, "D", [1, 3, 4, 5]),
      K(11, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "A",
    erklaerung: "Steigung m = Δy/Δx (4 falsch).",
    schwierigkeit: 2,
    fsrs: null,
  },
  {
    id: "ma-pool-typk-012",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-1-01",
    stamm: "Welche Aussagen zu Einheiten sind richtig?",
    aussagen: [
      A(1, "1 mmol/L = 10⁻³ mol/L.", true),
      A(2, "1 μg = 10⁻⁶ g.", true),
      A(3, "1 Liter = 1 dm³.", true),
      A(4, "1 nm = 10⁻⁶ m.", false),
      A(5, "Pico (p) = 10⁻¹².", true),
    ],
    kombinationen: [
      K(12, "A", [1, 2, 3, 5]),
      K(12, "B", [1, 2, 4]),
      K(12, "C", [2, 3, 4]),
      K(12, "D", [1, 3, 4, 5]),
      K(12, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "A",
    erklaerung: "1 nm = 10⁻⁹ m (4 falsch).",
    schwierigkeit: 1,
    fsrs: null,
  },
  {
    id: "ma-pool-typk-013",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-5-01",
    stamm: "Welche Aussagen zu Parabeln sind richtig?",
    aussagen: [
      A(1, "y = x² ist nach oben geöffnet.", true),
      A(2, "Scheitel von y = ax² + bx + c (a≠0) bei x = −b/(2a).", true),
      A(3, "a > 0 ⇒ Minimum; a < 0 ⇒ Maximum.", true),
      A(4, "Die Parabel y = −x² hat ein Maximum bei (0|0).", true),
      A(5, "Die Diskriminante D = b² − 4ac bestimmt die Anzahl der reellen Nullstellen.", true),
    ],
    kombinationen: [
      K(13, "A", [1, 2, 3, 4]),
      K(13, "B", [1, 2, 5]),
      K(13, "C", [2, 3, 4, 5]),
      K(13, "D", [1, 3, 5]),
      K(13, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "E",
    erklaerung: "Alle Aussagen sind richtig.",
    schwierigkeit: 2,
    fsrs: null,
  },
  {
    id: "ma-pool-typk-014",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-2-01",
    stamm: "Welche Aussagen zu Trigonometrie sind richtig?",
    aussagen: [
      A(1, "sin(α) = Gegenkathete/Hypotenuse.", true),
      A(2, "cos(α) = Ankathete/Hypotenuse.", true),
      A(3, "tan(α) = sin(α)/cos(α).", true),
      A(4, "sin²(α) + cos²(α) = 1.", true),
      A(5, "Steigung 100% entspricht einem Winkel von 90°.", false),
    ],
    kombinationen: [
      K(14, "A", [1, 2, 3, 4]),
      K(14, "B", [1, 2, 5]),
      K(14, "C", [2, 3, 4, 5]),
      K(14, "D", [1, 3, 4, 5]),
      K(14, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "A",
    erklaerung: "Steigung 100% = 45° (5 falsch).",
    schwierigkeit: 2,
    fsrs: null,
  },
  {
    id: "ma-pool-typk-015",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-5-01",
    stamm: "Welche Aussagen zum Logarithmus sind richtig?",
    aussagen: [
      A(1, "ln(1) = 0.", true),
      A(2, "ln(e) = 1.", true),
      A(3, "ln(a·b) = ln(a) + ln(b).", true),
      A(4, "ln(a/b) = ln(a)·ln(b).", false),
      A(5, "e^(ln x) = x für x > 0.", true),
    ],
    kombinationen: [
      K(15, "A", [1, 2, 3, 5]),
      K(15, "B", [1, 2, 4]),
      K(15, "C", [2, 3, 4]),
      K(15, "D", [1, 3, 4, 5]),
      K(15, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "A",
    erklaerung: "ln(a/b) = ln(a) − ln(b) (4 falsch).",
    schwierigkeit: 2,
    fsrs: null,
  },
  {
    id: "ma-pool-typk-016",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-2-01",
    stamm: "Welche Aussagen zu Geometrie sind richtig?",
    aussagen: [
      A(1, "Innenwinkelsumme Dreieck = 180°.", true),
      A(2, "Pythagoras: a² + b² = c² im rechtwinkligen Dreieck.", true),
      A(3, "Diagonale Quadrat mit Seite a: a√2.", true),
      A(4, "Kugeloberfläche = 2πr².", false),
      A(5, "Zylinderoberfläche Mantel = 2πrh.", true),
    ],
    kombinationen: [
      K(16, "A", [1, 2, 3, 5]),
      K(16, "B", [1, 2, 4]),
      K(16, "C", [2, 3, 4]),
      K(16, "D", [1, 3, 4, 5]),
      K(16, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "A",
    erklaerung: "Kugeloberfläche = 4πr² (4 falsch).",
    schwierigkeit: 1,
    fsrs: null,
  },
  {
    id: "ma-pool-typk-017",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-5-01",
    stamm: "Welche Aussagen zur Ableitung sind richtig?",
    aussagen: [
      A(1, "Ableitung von xⁿ ist n·xⁿ⁻¹ (n ≠ 0).", true),
      A(2, "Ableitung von e^x ist e^x.", true),
      A(3, "Ableitung von ln(x) ist 1/x (x > 0).", true),
      A(4, "Ableitung von 1/x ist 1/x².", false),
      A(5, "Extremstelle: notwendig f'(x) = 0.", true),
    ],
    kombinationen: [
      K(17, "A", [1, 2, 3, 5]),
      K(17, "B", [1, 2, 4]),
      K(17, "C", [2, 3, 4]),
      K(17, "D", [1, 3, 4, 5]),
      K(17, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "A",
    erklaerung: "Ableitung von 1/x ist −1/x² (4 falsch).",
    schwierigkeit: 2,
    fsrs: null,
  },
  {
    id: "ma-pool-typk-018",
    typ: "K",
    fach: "mathematik",
    uk_id: "ma-1-01",
    stamm: "Welche Aussagen zu Zehnerpotenzen sind richtig?",
    aussagen: [
      A(1, "10⁰ = 1.", true),
      A(2, "10³·10⁻² = 10¹.", true),
      A(3, "10⁴/10² = 10².", true),
      A(4, "10⁻³ ist eine negative Zahl.", false),
      A(5, "√(10⁴) = 10².", true),
    ],
    kombinationen: [
      K(18, "A", [1, 2, 3, 5]),
      K(18, "B", [1, 2, 4]),
      K(18, "C", [2, 3, 4]),
      K(18, "D", [1, 3, 4, 5]),
      K(18, "E", [1, 2, 3, 4, 5]),
    ],
    korrekte_option: "A",
    erklaerung: "10⁻³ = 0,001 ist positiv (4 falsch).",
    schwierigkeit: 1,
    fsrs: null,
  },
  // 019–040: weitere Themen (Zehnerpotenzen, Geometrie, Funktionen, Log, Ableitung)
  ...Array.from({ length: 22 }, (_, i) => {
    const n = 19 + i;
    const id = `ma-pool-typk-${String(n).padStart(3, "0")}`;
    const themes = [
      {
        uk: "ma-1-01",
        stamm: "Zehnerpotenzen",
        aussagen: [
          A(1, "10²·10³=10⁵.", true),
          A(2, "10⁻¹=0,1.", true),
          A(3, "Milli=10⁻².", false),
          A(4, "10⁰=1.", true),
          A(5, "10ⁿ/10ᵐ=10ⁿ⁻ᵐ.", true),
        ],
        korrekt: "A",
        nummern: [1, 2, 4, 5] as const,
        erk: "Milli=10⁻³ (3 falsch).",
      },
      {
        uk: "ma-2-01",
        stamm: "Geometrie",
        aussagen: [
          A(1, "Rechteck A=a·b.", true),
          A(2, "Kreis A=πr².", true),
          A(3, "Kugel V=4πr².", false),
          A(4, "Quader O=2(ab+ac+bc).", true),
          A(5, "Dreieck Innenwinkel 180°.", true),
        ],
        korrekt: "A",
        nummern: [1, 2, 4, 5] as const,
        erk: "Kugel V=(4/3)πr³ (3 falsch).",
      },
      {
        uk: "ma-5-01",
        stamm: "Funktionen",
        aussagen: [
          A(1, "Nullstelle f(x)=0.", true),
          A(2, "Parallele: gleiche Steigung.", true),
          A(3, "m=Δy/Δx.", true),
          A(4, "y-Achsenabschnitt bei x=0.", true),
          A(5, "Senkrecht: m₁=m₂.", false),
        ],
        korrekt: "A",
        nummern: [1, 2, 3, 4] as const,
        erk: "Senkrecht: m₁·m₂=−1 (5 falsch).",
      },
      {
        uk: "ma-5-01",
        stamm: "Logarithmus",
        aussagen: [
          A(1, "log₁₀(10)=1.", true),
          A(2, "ln(e)=1.", true),
          A(3, "ln(0)=1.", false),
          A(4, "log(a)+log(b)=log(a·b).", true),
          A(5, "ld(2)=1.", true),
        ],
        korrekt: "A",
        nummern: [1, 2, 4, 5] as const,
        erk: "ln(0) ist nicht definiert (3 falsch).",
      },
      {
        uk: "ma-5-01",
        stamm: "Ableitung",
        aussagen: [
          A(1, "(x²)'=2x.", true),
          A(2, "(e^x)'=e^x.", true),
          A(3, "(1/x)'=1/x².", false),
          A(4, "Extremstelle: f'(x)=0.", true),
          A(5, "(konstant)'=0.", true),
        ],
        korrekt: "A",
        nummern: [1, 2, 4, 5] as const,
        erk: "(1/x)'=−1/x² (3 falsch).",
      },
    ];
    const t = themes[n % themes.length];
    const komb = [
      { key: "A", nummern: [...t.nummern] },
      { key: "B", nummern: [1, 2, 3] },
      { key: "C", nummern: [2, 3, 4] },
      { key: "D", nummern: [1, 3, 5] },
      { key: "E", nummern: [1, 2, 3, 4, 5] },
    ];
    return {
      id,
      typ: "K" as const,
      fach: "mathematik" as const,
      uk_id: t.uk,
      stamm: "Welche Aussagen zu „" + t.stamm + "“ sind richtig?",
      aussagen: t.aussagen,
      kombinationen: komb,
      korrekte_option: t.korrekt,
      erklaerung: t.erk,
      schwierigkeit: ((n % 2) + 1) as 1 | 2,
      fsrs: null,
    };
  }),
];
