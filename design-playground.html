<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MedMaster Design Playground</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',system-ui,sans-serif;background:#0f1117;color:#e4e6f0;display:grid;grid-template-columns:300px 1fr;grid-template-rows:auto 1fr auto;height:100vh}
header{grid-column:1/-1;padding:14px 24px;background:#1a1d27;border-bottom:1px solid #2d3148;display:flex;align-items:center;gap:16px}
header h1{font-size:17px;font-weight:600}
.controls{overflow-y:auto;background:#1a1d27;border-right:1px solid #2d3148;padding:16px}
.group{margin-bottom:20px}
.group-title{font-size:10px;text-transform:uppercase;letter-spacing:1.2px;color:#8b8fa5;margin-bottom:10px;font-weight:600}
label{display:block;font-size:12px;color:#aab;margin-bottom:4px}
input[type=color]{width:100%;height:32px;border:1px solid #2d3148;border-radius:6px;background:#22263a;cursor:pointer;padding:2px}
input[type=range]{width:100%;accent-color:#6c7cff;margin:4px 0 8px}
select{width:100%;padding:6px 8px;background:#22263a;border:1px solid #2d3148;border-radius:6px;color:#e4e6f0;font-size:12px}
.preset-bar{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.preset{padding:5px 12px;border-radius:14px;border:1px solid #2d3148;background:transparent;color:#8b8fa5;font-size:11px;cursor:pointer;transition:.15s}
.preset:hover{border-color:#6c7cff;color:#e4e6f0}
.preset.active{background:rgba(108,124,255,.15);border-color:#6c7cff;color:#6c7cff}
.swatch-row{display:flex;gap:6px;margin:6px 0}
.swatch{width:28px;height:28px;border-radius:6px;cursor:pointer;border:2px solid transparent;transition:.15s}
.swatch:hover,.swatch.active{border-color:#fff;transform:scale(1.1)}
.preview{overflow-y:auto;padding:0;display:flex;flex-direction:column}
.prompt-bar{grid-column:1/-1;background:#1a1d27;border-top:1px solid #2d3148;padding:10px 24px;display:flex;gap:12px;align-items:center}
.prompt-text{flex:1;font-family:'SF Mono',monospace;font-size:11px;color:#8b8fa5;padding:8px;background:#0f1117;border:1px solid #2d3148;border-radius:6px;max-height:60px;overflow-y:auto;white-space:pre-wrap}
.copy-btn{padding:7px 14px;background:#6c7cff;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:12px;font-weight:600}
.copy-btn.copied{background:#34d399}
.val{font-family:monospace;font-size:11px;color:#6c7cff;float:right}

/* Preview styles */
.app-frame{flex:1;display:grid;grid-template-columns:var(--sb-width) 1fr;grid-template-rows:var(--tb-height) 1fr;overflow:hidden;border-radius:12px;margin:16px;border:1px solid #2d3148}
.topbar{grid-column:1/-1;display:flex;align-items:center;gap:12px;padding:0 20px;border-bottom:1px solid var(--app-border)}
.topbar .logo{font-weight:700;font-size:15px}
.topbar .nav{display:flex;gap:8px;margin-left:auto}
.topbar .nav span{padding:5px 12px;border-radius:8px;font-size:12px;cursor:default}
.topbar .nav span.act{font-weight:600}
.sidebar-preview{overflow-y:auto;border-right:1px solid var(--app-border);padding:12px}
.sb-section{margin-bottom:16px}
.sb-label{font-size:10px;text-transform:uppercase;letter-spacing:.8px;margin-bottom:8px;opacity:.5}
.sb-item{display:flex;align-items:center;gap:8px;padding:7px 10px;border-radius:var(--radius);font-size:13px;margin-bottom:2px;cursor:default;transition:.15s}
.sb-item:hover{opacity:.9}
.sb-item.act{font-weight:600}
.sb-dot{width:8px;height:8px;border-radius:50%}
.dashboard{padding:24px;overflow-y:auto}
.dash-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:24px}
.dash-card{border-radius:var(--radius);padding:20px;border:1px solid var(--app-border)}
.dash-card .card-label{font-size:11px;text-transform:uppercase;letter-spacing:.5px;opacity:.6;margin-bottom:6px}
.dash-card .card-value{font-size:28px;font-weight:700;font-family:monospace}
.dash-card .card-sub{font-size:12px;opacity:.5;margin-top:4px}
.progress-row{display:flex;gap:12px;margin-bottom:20px}
.progress-card{flex:1;border-radius:var(--radius);padding:16px;border:1px solid var(--app-border)}
.progress-card .prog-label{font-size:12px;margin-bottom:8px;font-weight:500}
.prog-bar{height:8px;border-radius:4px;overflow:hidden;opacity:.2}
.prog-fill{height:100%;border-radius:4px;opacity:1}
.streak-card{border-radius:var(--radius);padding:20px;border:1px solid var(--app-border);display:flex;align-items:center;gap:16px}
.streak-num{font-size:36px;font-weight:800;font-family:monospace}
</style>
</head>
<body>
<header>
  <h1>MedMaster Design Playground</h1>
  <span style="margin-left:auto;font-size:12px;color:#8b8fa5">Dashboard + Sidebar + Farben live anpassen</span>
</header>
<div class="controls" id="controls"></div>
<div class="preview" id="preview"></div>
<div class="prompt-bar">
  <div class="prompt-text" id="promptOutput">Passe die Werte links an...</div>
  <button class="copy-btn" id="copyBtn" onclick="copyPrompt()">Kopieren</button>
</div>
<script>
const DEFAULTS={
  mode:'dark',primary:'#007AFF',bio:'#22c55e',chem:'#ef4444',phys:'#3b82f6',math:'#a855f7',
  bg:'#0a0a0a',fg:'#fafafa',card:'#111111',border:'#222222',
  sidebarBg:'#0c0c0c',topbarBg:'#0a0a0a',
  sbWidth:256,tbHeight:56,radius:10,font:'Inter'
};
const PRESETS={
  'MedMaster Dark':{...DEFAULTS},
  'MedMaster Light':{mode:'light',primary:'#007AFF',bio:'#16a34a',chem:'#dc2626',phys:'#2563eb',math:'#9333ea',bg:'#fafafa',fg:'#0a0a0a',card:'#ffffff',border:'#e5e7eb',sidebarBg:'#ffffff',topbarBg:'#fafafa',sbWidth:256,tbHeight:56,radius:10,font:'Inter'},
  'AMBOSS Blau':{mode:'dark',primary:'#00A3E0',bio:'#00C9A7',chem:'#FF6B6B',phys:'#4DABF7',math:'#DA77F2',bg:'#0d1117',fg:'#f0f6fc',card:'#161b22',border:'#30363d',sidebarBg:'#0d1117',topbarBg:'#161b22',sbWidth:240,tbHeight:52,radius:8,font:'Inter'},
  'StudyMed':{mode:'light',primary:'#6366f1',bio:'#10b981',chem:'#f43f5e',phys:'#0ea5e9',math:'#8b5cf6',bg:'#f8fafc',fg:'#1e293b',card:'#ffffff',border:'#e2e8f0',sidebarBg:'#f1f5f9',topbarBg:'#ffffff',sbWidth:260,tbHeight:60,radius:12,font:'Inter'},
  'Warm Minimal':{mode:'light',primary:'#d97706',bio:'#059669',chem:'#e11d48',phys:'#0284c7',math:'#7c3aed',bg:'#fffbeb',fg:'#1c1917',card:'#ffffff',border:'#e7e5e4',sidebarBg:'#fef3c7',topbarBg:'#fffbeb',sbWidth:250,tbHeight:54,radius:14,font:'Inter'}
};
const state={...DEFAULTS};

function el(tag,cls,text){const e=document.createElement(tag);if(cls)e.className=cls;if(text)e.textContent=text;return e}

function renderControls(){
  const c=document.getElementById('controls');c.textContent='';
  // Presets
  const pb=el('div','preset-bar');
  Object.keys(PRESETS).forEach(name=>{
    const b=el('button','preset',name);
    b.onclick=()=>{Object.assign(state,PRESETS[name]);renderControls();renderPreview();updatePrompt()};
    pb.appendChild(b);
  });
  c.appendChild(pb);

  // Subject colors
  const g1=el('div','group');g1.appendChild(el('div','group-title','Fachfarben'));
  [['bio','Biologie',state.bio],['chem','Chemie',state.chem],['phys','Physik',state.phys],['math','Mathematik',state.math],['primary','Primary',state.primary]].forEach(([key,lbl,val])=>{
    const row=el('div','');row.style.cssText='display:flex;align-items:center;gap:8px;margin-bottom:6px';
    const sw=el('div','');sw.style.cssText='width:24px;height:24px;border-radius:4px;background:'+val+';flex-shrink:0';
    const lb=el('span','',lbl);lb.style.cssText='font-size:12px;flex:1';
    const inp=document.createElement('input');inp.type='color';inp.value=val;inp.style.cssText='width:60px;height:24px;border:1px solid #2d3148;border-radius:4px;background:#22263a;cursor:pointer;padding:0';
    inp.oninput=()=>{state[key]=inp.value;sw.style.background=inp.value;renderPreview();updatePrompt()};
    row.appendChild(sw);row.appendChild(lb);row.appendChild(inp);g1.appendChild(row);
  });
  c.appendChild(g1);

  // Surface colors
  const g2=el('div','group');g2.appendChild(el('div','group-title','Oberflächen'));
  [['bg','Background',state.bg],['fg','Text',state.fg],['card','Card',state.card],['border','Border',state.border],['sidebarBg','Sidebar',state.sidebarBg],['topbarBg','Topbar',state.topbarBg]].forEach(([key,lbl,val])=>{
    const row=el('div','');row.style.cssText='display:flex;align-items:center;gap:8px;margin-bottom:6px';
    const sw=el('div','');sw.style.cssText='width:24px;height:24px;border-radius:4px;background:'+val+';border:1px solid #2d3148;flex-shrink:0';
    const lb=el('span','',lbl);lb.style.cssText='font-size:12px;flex:1';
    const inp=document.createElement('input');inp.type='color';inp.value=val;inp.style.cssText='width:60px;height:24px;border:1px solid #2d3148;border-radius:4px;background:#22263a;cursor:pointer;padding:0';
    inp.oninput=()=>{state[key]=inp.value;sw.style.background=inp.value;renderPreview();updatePrompt()};
    row.appendChild(sw);row.appendChild(lb);row.appendChild(inp);g2.appendChild(row);
  });
  c.appendChild(g2);

  // Layout
  const g3=el('div','group');g3.appendChild(el('div','group-title','Layout'));
  [['sbWidth','Sidebar Breite',state.sbWidth,180,320,'px'],['tbHeight','Topbar Höhe',state.tbHeight,40,72,'px'],['radius','Border Radius',state.radius,0,24,'px']].forEach(([key,lbl,val,min,max,unit])=>{
    const lb=el('label','',lbl);
    const v=el('span','val',val+unit);lb.appendChild(v);
    const inp=document.createElement('input');inp.type='range';inp.min=min;inp.max=max;inp.value=val;
    inp.oninput=()=>{state[key]=+inp.value;v.textContent=inp.value+unit;renderPreview();updatePrompt()};
    g3.appendChild(lb);g3.appendChild(inp);
  });
  c.appendChild(g3);

  // Font
  const g4=el('div','group');g4.appendChild(el('div','group-title','Schriftart'));
  const sel=document.createElement('select');
  ['Inter','system-ui','SF Pro','Geist','DM Sans','Nunito','Poppins'].forEach(f=>{
    const o=document.createElement('option');o.value=f;o.textContent=f;if(f===state.font)o.selected=true;sel.appendChild(o);
  });
  sel.onchange=()=>{state.font=sel.value;renderPreview();updatePrompt()};
  g4.appendChild(sel);c.appendChild(g4);
}

function renderPreview(){
  const p=document.getElementById('preview');p.textContent='';
  const frame=el('div','app-frame');
  frame.style.cssText='--sb-width:'+state.sbWidth+'px;--tb-height:'+state.tbHeight+'px;--app-border:'+state.border+';--radius:'+state.radius+'px;font-family:'+state.font+',system-ui,sans-serif;background:'+state.bg+';color:'+state.fg;

  // Topbar
  const tb=el('div','topbar');tb.style.cssText='background:'+state.topbarBg+';height:'+state.tbHeight+'px';
  const logo=el('span','logo','MedMaster');logo.style.color=state.primary;
  tb.appendChild(logo);
  const nav=el('div','nav');
  ['Dashboard','BMS','TV','KFF','SEK'].forEach((t,i)=>{
    const s=el('span','',t);s.style.cssText='background:'+(i===0?state.primary+'22':'transparent')+';color:'+(i===0?state.primary:state.fg);
    if(i===0)s.className='act';nav.appendChild(s);
  });
  tb.appendChild(nav);frame.appendChild(tb);

  // Sidebar
  const sb=el('div','sidebar-preview');sb.style.background=state.sidebarBg;

  const sec1=el('div','sb-section');sec1.appendChild(el('div','sb-label','BMS Fächer'));
  [['Biologie',state.bio,true],['Chemie',state.chem,false],['Physik',state.phys,false],['Mathematik',state.math,false]].forEach(([t,c,a])=>{
    const item=el('div','sb-item'+(a?' act':''));
    item.style.cssText='background:'+(a?c+'22':'transparent')+';color:'+(a?c:state.fg);
    const dot=el('div','sb-dot');dot.style.background=c;
    item.appendChild(dot);item.appendChild(document.createTextNode(t));sb.appendChild(item);
  });
  sb.appendChild(sec1);

  const sec2=el('div','sb-section');sec2.appendChild(el('div','sb-label','Testteil'));
  ['Textverständnis','Figuren','SEK'].forEach(t=>{
    const item=el('div','sb-item');item.style.color=state.fg;
    item.appendChild(document.createTextNode(t));sec2.appendChild(item);
  });
  sb.appendChild(sec2);
  frame.appendChild(sb);

  // Dashboard
  const dash=el('div','dashboard');

  // Cards
  const grid=el('div','dash-grid');
  [['\u{1F525} Streak','14','Tage in Folge',state.primary],['Fortschritt','68%','BMS gesamt',state.bio],['Fragen','1.060','beantwortet',state.phys]].forEach(([lbl,val,sub,accent])=>{
    const card=el('div','dash-card');card.style.background=state.card;
    card.appendChild(el('div','card-label',lbl));
    const v=el('div','card-value',val);v.style.color=accent;card.appendChild(v);
    card.appendChild(el('div','card-sub',sub));grid.appendChild(card);
  });
  dash.appendChild(grid);

  // Progress
  const prow=el('div','progress-row');
  [['Biologie',72,state.bio],['Chemie',45,state.chem],['Physik',38,state.phys],['Mathematik',55,state.math]].forEach(([lbl,pct,c])=>{
    const card=el('div','progress-card');card.style.background=state.card;
    card.appendChild(el('div','prog-label',lbl+' '+pct+'%'));
    const bar=el('div','prog-bar');bar.style.background=c;
    const fill=el('div','prog-fill');fill.style.cssText='width:'+pct+'%;background:'+c;
    bar.appendChild(fill);card.appendChild(bar);prow.appendChild(card);
  });
  dash.appendChild(prow);

  // Streak
  const streak=el('div','streak-card');streak.style.background=state.card;
  const sn=el('div','streak-num','14');sn.style.color=state.primary;
  streak.appendChild(sn);
  const si=el('div','');si.appendChild(el('div','','Tage-Streak'));si.firstChild.style.cssText='font-weight:600;font-size:14px';
  si.appendChild(el('div','','Nächstes Ziel: 21 Tage'));si.lastChild.style.cssText='font-size:12px;opacity:.5;margin-top:2px';
  streak.appendChild(si);dash.appendChild(streak);

  frame.appendChild(dash);p.appendChild(frame);
}

function updatePrompt(){
  const parts=[];
  if(state.primary!==DEFAULTS.primary)parts.push('Primary: '+state.primary);
  if(state.bio!==DEFAULTS.bio)parts.push('Bio: '+state.bio);
  if(state.chem!==DEFAULTS.chem)parts.push('Chem: '+state.chem);
  if(state.phys!==DEFAULTS.phys)parts.push('Phys: '+state.phys);
  if(state.math!==DEFAULTS.math)parts.push('Math: '+state.math);
  if(state.bg!==DEFAULTS.bg)parts.push('Background: '+state.bg);
  if(state.fg!==DEFAULTS.fg)parts.push('Foreground: '+state.fg);
  if(state.card!==DEFAULTS.card)parts.push('Card: '+state.card);
  if(state.border!==DEFAULTS.border)parts.push('Border: '+state.border);
  if(state.sidebarBg!==DEFAULTS.sidebarBg)parts.push('Sidebar BG: '+state.sidebarBg);
  if(state.topbarBg!==DEFAULTS.topbarBg)parts.push('Topbar BG: '+state.topbarBg);
  if(state.sbWidth!==DEFAULTS.sbWidth)parts.push('Sidebar Breite: '+state.sbWidth+'px');
  if(state.tbHeight!==DEFAULTS.tbHeight)parts.push('Topbar Höhe: '+state.tbHeight+'px');
  if(state.radius!==DEFAULTS.radius)parts.push('Border Radius: '+state.radius+'px');
  if(state.font!==DEFAULTS.font)parts.push('Font: '+state.font);

  const el=document.getElementById('promptOutput');
  if(parts.length===0){el.textContent='Aktuell: Standard-Design (MedMaster Dark). Ändere Werte links zum Generieren eines Prompts.';return}
  el.textContent='Aktualisiere das MedMaster Design-System in src/index.css:\n'+parts.join('\n')+'\n\nÄndere die CSS-Variablen in :root und .dark entsprechend. Passe --sidebar-bg, --topbar-bg und die @theme Farben an.';
}

function copyPrompt(){
  navigator.clipboard.writeText(document.getElementById('promptOutput').textContent).then(()=>{
    const btn=document.getElementById('copyBtn');btn.textContent='Kopiert!';btn.classList.add('copied');
    setTimeout(()=>{btn.textContent='Kopieren';btn.classList.remove('copied')},1500);
  });
}

renderControls();renderPreview();updatePrompt();
</script>
</body>
</html>
